<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora de Valor de Viagem</title>
<style>
    body{
        background-color: rgb(0, 8, 255);
        color: white;
    }
    
</style>
</head>
<body>

<h1>Calculadora de Valor de Viagem</h1>

<form id="formViagem">
  <label for="distancia">Distância percorrida (km):</label>
  <input type="number" id="distancia" name="distancia" required><br><br>

  <button type="button" id="botaoCalcular" onclick="iniciarCronometro()">Iniciar Cronômetro</button><br><br>

  <div id="tempoViagem"></div>
</form>

<div id="resultado"></div>

<script>
let startTime; // Variável para armazenar o tempo de início do cronômetro
let isRunning = false; // Variável para controlar se o cronômetro está em execução

function iniciarCronometro() {
  if (!isRunning) {
    startTime = new Date().getTime();
    document.getElementById("botaoCalcular").innerHTML = "Parar Cronômetro";
    isRunning = true;
    atualizarTempo();
  } else {
    const endTime = new Date().getTime();
    const tempoViagemSegundos = (endTime - startTime) / 1000; // Convertendo para segundos
    const tempoViagemMinutos = tempoViagemSegundos / 60; // Convertendo para minutos
    document.getElementById("tempoViagem").innerHTML = "Tempo da viagem: " + tempoViagemMinutos.toFixed(2) + " minutos";
    const valorViagem = calcularValorViagem(tempoViagemMinutos);
    document.getElementById("resultado").innerHTML = "Valor da viagem: R$" + valorViagem.toFixed(2);
    document.getElementById("botaoCalcular").innerHTML = "Iniciar Cronômetro";
    isRunning = false;
  }
}

function atualizarTempo() {
  if (isRunning) {
    const currentTime = new Date().getTime();
    const tempoDecorrido = (currentTime - startTime) / 1000; // Convertendo para segundos
    document.getElementById("tempoViagem").innerHTML = "Tempo da viagem: " + (tempoDecorrido / 60).toFixed(2) + " minutos";
    setTimeout(atualizarTempo, 100); // Atualiza o tempo a cada 100 milissegundos
  }
}

function calcularValorViagem(tempoViagem) {
  const taxaPorMinuto = 0.5; // Taxa por minuto
  const valorViagem = tempoViagem * taxaPorMinuto;
  return valorViagem + 10;
}
</script>

</body>
</html>